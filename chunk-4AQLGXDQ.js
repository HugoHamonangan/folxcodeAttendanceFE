import{b as Ue}from"./chunk-HUCDO5O7.js";import{a as Pe}from"./chunk-URZCDQJJ.js";import{a as He}from"./chunk-KRSGJYAG.js";import{a as Ne}from"./chunk-7L3MM22O.js";import{a as Te}from"./chunk-Z4CE53GY.js";import{a as Qe}from"./chunk-DTTFVCDB.js";import{$a as Be,Ba as Ve,Ca as Ee,Da as Fe,E as Ie,Ea as De,Ha as ze,I as W,Ja as Me,Na as K,Oa as Oe,Va as A,Xa as Re,ja as F,n as _e,pa as Se,qa as G,ua as Y,v as we,w as Ce,wa as ke,xa as xe,y as ye,ya as Ae,za as X}from"./chunk-ZAHCPB2U.js";import{$ as D,Eb as r,Fb as l,Gb as d,Hb as U,Ib as H,Jb as N,Kb as I,Mb as h,Nb as p,Qb as x,Rb as z,Sb as _,Sc as ue,Ta as O,Tb as w,Uc as he,V as se,Vc as L,W as B,Wa as le,Wb as Z,Xa as o,Xb as S,Xc as fe,Yc as ve,Zb as $,_c as be,ad as q,f as oe,fc as ce,ga as g,ha as u,hb as b,hc as R,ia as C,ib as P,ic as j,id as Le,ja as Q,jd as ee,ka as T,kb as k,ld as te,mb as f,nc as me,nd as ie,pc as de,qa as E,qc as pe,tb as v,ub as s,yb as y,yc as ge}from"./chunk-24CHYTPN.js";var tt=["video"],it=["canvas"];function nt(t,a){if(t&1){let e=I();r(0,"div",6),h("click",function(){g(e);let i=p();return u(i.rotateVideoInput(!0))}),l()}}var ne=class t{constructor(a,e,n){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=e,this._imageAsDataUrl=a,this._imageData=n}static getDataFromDataUrl(a,e){return a.replace(`data:${e};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=t.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}},ae=class{static getAvailableVideoInputs(){return!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices?Promise.reject("enumerateDevices() not supported."):new Promise((a,e)=>{navigator.mediaDevices.enumerateDevices().then(n=>{a(n.filter(i=>i.kind==="videoinput"))}).catch(n=>{e(n.message||n)})})}},je=(()=>{class t{constructor(){this.width=640,this.height=480,this.videoOptions=t.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=t.DEFAULT_IMAGE_TYPE,this.imageQuality=t.DEFAULT_IMAGE_QUALITY,this.imageCapture=new E,this.initError=new E,this.imageClick=new E,this.cameraSwitched=new E,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(e){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(()=>{this.takeSnapshot()})}set switchCamera(e){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(n=>{typeof n=="string"?this.switchToVideoInput(n):this.rotateVideoInput(n!==!1)})}static getMediaConstraintsForDevice(e,n){let i=n||this.DEFAULT_VIDEO_OPTIONS;return e&&(i.deviceId={exact:e}),i}static getDeviceIdFromMediaStreamTrack(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){let n=e.getConstraints().deviceId;return t.getValueFromConstrainDOMString(n)}}static getFacingModeFromMediaStreamTrack(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){let n=e.getConstraints().facingMode;return t.getValueFromConstrainDOMString(n)}}}static isUserFacing(e){let n=t.getFacingModeFromMediaStreamTrack(e);return n?n.toLowerCase()==="user":!1}static getValueFromConstrainDOMString(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if(typeof e=="object"){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(e=>{this.initError.next({message:e}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){let e=this.nativeVideoElement,n={width:this.width,height:this.height};e.videoWidth&&(n.width=e.videoWidth,n.height=e.videoHeight);let i=this.canvas.nativeElement;i.width=n.width,i.height=n.height;let c=i.getContext("2d");c.drawImage(e,0,0);let m=this.imageType?this.imageType:t.DEFAULT_IMAGE_TYPE,V=this.imageQuality?this.imageQuality:t.DEFAULT_IMAGE_QUALITY,J=i.toDataURL(m,V),re=null;this.captureImageData&&(re=c.getImageData(0,0,i.width,i.height)),this.imageCapture.next(new ne(J,m,re))}rotateVideoInput(e){if(this.availableVideoInputs&&this.availableVideoInputs.length>1){let n=e?1:this.availableVideoInputs.length-1,i=(this.activeVideoInputIndex+n)%this.availableVideoInputs.length;this.switchToVideoInput(this.availableVideoInputs[i].deviceId)}}switchToVideoInput(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}videoResize(){}get videoWidth(){let e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}get videoHeight(){let e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}get videoStyleClasses(){let e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){let e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}initWebcam(e,n){let i=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let c=t.getMediaConstraintsForDevice(e,n);navigator.mediaDevices.getUserMedia({video:c}).then(m=>{this.mediaStream=m,i.srcObject=m,i.play(),this.activeVideoSettings=m.getVideoTracks()[0].getSettings();let V=t.getDeviceIdFromMediaStreamTrack(m.getVideoTracks()[0]);this.cameraSwitched.next(V),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=V?this.availableVideoInputs.findIndex(J=>J.deviceId===V):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(m=>{this.initError.next({message:m.message,mediaStreamError:m})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let e="auto";switch(this.mirrorImage&&(typeof this.mirrorImage=="string"?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}}return t.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(e=>e.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((e,n)=>{ae.getAvailableVideoInputs().then(i=>{this.availableVideoInputs=i,e(i)}).catch(i=>{this.availableVideoInputs=[],n(i)})})}}return t.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},t.DEFAULT_IMAGE_TYPE="image/jpeg",t.DEFAULT_IMAGE_QUALITY=.92,t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b({type:t,selectors:[["webcam"]],viewQuery:function(e,n){if(e&1&&(z(tt,7),z(it,7)),e&2){let i;_(i=w())&&(n.video=i.first),_(i=w())&&(n.canvas=i.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},standalone:!1,decls:6,vars:7,consts:[["video",""],["canvas",""],[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"resize","width","height"],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],[1,"camera-switch",3,"click"]],template:function(e,n){if(e&1){let i=I();r(0,"div",2),h("click",function(){return g(i),u(n.imageClick.next())}),r(1,"video",3,0),h("resize",function(){return g(i),u(n.videoResize())}),l(),f(3,nt,1,0,"div",4),d(4,"canvas",5,1),l()}e&2&&(o(),y(n.videoStyleClasses),s("width",n.videoWidth)("height",n.videoHeight),o(2),s("ngIf",n.allowCameraSwitch&&n.availableVideoInputs.length>1&&n.videoInitialized),o(),s("width",n.width)("height",n.height))},dependencies:[L],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),t})();var qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=P({type:t}),t.\u0275inj=B({imports:[[q]]}),t})();var Ge=(()=>{class t extends A{static \u0275fac=(()=>{let e;return function(i){return(e||(e=T(t)))(i||t)}})();static \u0275cmp=b({type:t,selectors:[["EyeIcon"]],features:[k],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(n,i){n&1&&(C(),r(0,"svg",0),d(1,"path",1),l()),n&2&&(y(i.getClassNames()),v("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return t})();var Je=(()=>{class t extends A{pathId;ngOnInit(){this.pathId="url(#"+F()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=T(t)))(i||t)}})();static \u0275cmp=b({type:t,selectors:[["RefreshIcon"]],features:[k],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(C(),r(0,"svg",0)(1,"g"),d(2,"path",1),l(),r(3,"defs")(4,"clipPath",2),d(5,"rect",3),l()()()),n&2&&(y(i.getClassNames()),v("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),o(),v("clip-path",i.pathId),o(3),s("id",i.pathId))},encapsulation:2})}return t})();var $e=(()=>{class t extends A{pathId;ngOnInit(){this.pathId="url(#"+F()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=T(t)))(i||t)}})();static \u0275cmp=b({type:t,selectors:[["SearchMinusIcon"]],features:[k],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(C(),r(0,"svg",0)(1,"g"),d(2,"path",1),l(),r(3,"defs")(4,"clipPath",2),d(5,"rect",3),l()()()),n&2&&(y(i.getClassNames()),v("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),o(),v("clip-path",i.pathId),o(3),s("id",i.pathId))},encapsulation:2})}return t})();var We=(()=>{class t extends A{pathId;ngOnInit(){this.pathId="url(#"+F()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=T(t)))(i||t)}})();static \u0275cmp=b({type:t,selectors:[["SearchPlusIcon"]],features:[k],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(C(),r(0,"svg",0)(1,"g"),d(2,"path",1),l(),r(3,"defs")(4,"clipPath",2),d(5,"rect",3),l()()()),n&2&&(y(i.getClassNames()),v("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),o(),v("clip-path",i.pathId),o(3),s("id",i.pathId))},encapsulation:2})}return t})();var Ye=(()=>{class t extends A{pathId;ngOnInit(){this.pathId="url(#"+F()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=T(t)))(i||t)}})();static \u0275cmp=b({type:t,selectors:[["UndoIcon"]],features:[k],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,i){n&1&&(C(),r(0,"svg",0)(1,"g"),d(2,"path",1),l(),r(3,"defs")(4,"clipPath",2),d(5,"rect",3),l()()()),n&2&&(y(i.getClassNames()),v("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),o(),v("clip-path",i.pathId),o(3),s("id",i.pathId))},encapsulation:2})}return t})();var rt=["indicator"],ot=["rotaterighticon"],st=["rotatelefticon"],lt=["zoomouticon"],ct=["zoominicon"],mt=["closeicon"],dt=["preview"],pt=["image"],gt=["mask"],ut=["previewButton"],ht=["closeButton"],ft=t=>({errorCallback:t}),vt=(t,a)=>({height:t,width:a}),bt=t=>({"p-image-action p-image-zoom-out-button":!0,"p-disabled":t}),_t=t=>({"p-image-action p-image-zoom-in-button":!0,"p-disabled":t}),wt=(t,a)=>({showTransitionParams:t,hideTransitionParams:a}),Ct=t=>({value:"visible",params:t}),yt=(t,a)=>({class:"p-image-original",style:t,previewCallback:a});function It(t,a){if(t&1){let e=I();U(0),r(1,"img",9),h("error",function(i){g(e);let c=p();return u(c.imageError(i))}),l(),H()}if(t&2){let e=p();o(),y(e.imageClass),s("ngStyle",e.imageStyle),v("src",e.src,O)("srcset",e.srcSet)("sizes",e.sizes)("alt",e.alt)("width",e.width)("height",e.height)("loading",e.loading)}}function St(t,a){t&1&&N(0)}function Tt(t,a){t&1&&N(0)}function kt(t,a){if(t&1&&(U(0),f(1,Tt,1,0,"ng-container",12),H()),t&2){let e=p(2);o(),s("ngTemplateOutlet",e.indicatorTemplate||e._indicatorTemplate)}}function xt(t,a){t&1&&d(0,"EyeIcon",13),t&2&&s("styleClass","p-image-preview-icon")}function At(t,a){if(t&1){let e=I();r(0,"button",10,0),h("click",function(){g(e);let i=p();return u(i.onImageClick())}),f(2,kt,2,1,"ng-container",11)(3,xt,1,1,"ng-template",null,1,pe),l()}if(t&2){let e=Z(4),n=p();s("ngStyle",j(4,vt,n.height+"px",n.width+"px")),v("aria-label",n.zoomImageAriaLabel),o(2),s("ngIf",n.indicatorTemplate||!n._indicatorTemplate)("ngIfElse",e)}}function Vt(t,a){t&1&&d(0,"RefreshIcon")}function Et(t,a){}function Ft(t,a){t&1&&f(0,Et,0,0,"ng-template")}function Dt(t,a){t&1&&d(0,"UndoIcon")}function zt(t,a){}function Mt(t,a){t&1&&f(0,zt,0,0,"ng-template")}function Ot(t,a){t&1&&d(0,"SearchMinusIcon")}function Lt(t,a){}function Rt(t,a){t&1&&f(0,Lt,0,0,"ng-template")}function Bt(t,a){t&1&&d(0,"SearchPlusIcon")}function Qt(t,a){}function Pt(t,a){t&1&&f(0,Qt,0,0,"ng-template")}function Ut(t,a){t&1&&d(0,"TimesIcon")}function Ht(t,a){}function Nt(t,a){t&1&&f(0,Ht,0,0,"ng-template")}function Zt(t,a){if(t&1){let e=I();U(0),r(1,"img",20),h("click",function(){g(e);let i=p(3);return u(i.onPreviewImageClick())}),l(),H()}if(t&2){let e=p(3);o(),s("ngStyle",e.imagePreviewStyle()),v("src",e.previewImageSrc?e.previewImageSrc:e.src,O)("srcset",e.previewImageSrcSet)("sizes",e.previewImageSizes)}}function jt(t,a){t&1&&N(0)}function qt(t,a){if(t&1){let e=I();r(0,"div"),h("@animation.start",function(i){g(e);let c=p(2);return u(c.onAnimationStart(i))})("@animation.done",function(i){g(e);let c=p(2);return u(c.onAnimationEnd(i))}),f(1,Zt,2,4,"ng-container",5)(2,jt,1,0,"ng-container",6),l()}if(t&2){let e=p(2);s("@animation",R(7,Ct,j(4,wt,e.showTransitionOptions,e.hideTransitionOptions))),o(),s("ngIf",!e.previewTemplate&&!e._previewTemplate),o(),s("ngTemplateOutlet",e.previewTemplate||e._previewTemplate)("ngTemplateOutletContext",j(9,yt,e.imagePreviewStyle(),e.onPreviewImageClick.bind(e)))}}function Gt(t,a){if(t&1){let e=I();r(0,"div",14,2),h("click",function(){g(e);let i=p();return u(i.onMaskClick())})("keydown",function(i){g(e);let c=p();return u(c.onMaskKeydown(i))}),r(2,"div",15),h("click",function(i){g(e);let c=p();return u(c.handleToolbarClick(i))}),r(3,"button",16),h("click",function(){g(e);let i=p();return u(i.rotateRight())}),f(4,Vt,1,0,"RefreshIcon",5)(5,Ft,1,0,null,12),l(),r(6,"button",17),h("click",function(){g(e);let i=p();return u(i.rotateLeft())}),f(7,Dt,1,0,"UndoIcon",5)(8,Mt,1,0,null,12),l(),r(9,"button",18),h("click",function(){g(e);let i=p();return u(i.zoomOut())}),f(10,Ot,1,0,"SearchMinusIcon",5)(11,Rt,1,0,null,12),l(),r(12,"button",18),h("click",function(){g(e);let i=p();return u(i.zoomIn())}),f(13,Bt,1,0,"SearchPlusIcon",5)(14,Pt,1,0,null,12),l(),r(15,"button",19,3),h("click",function(){g(e);let i=p();return u(i.closePreview())}),f(17,Ut,1,0,"TimesIcon",5)(18,Nt,1,0,null,12),l()(),f(19,qt,3,12,"div",5),l()}if(t&2){let e=p();v("aria-modal",e.maskVisible),o(3),v("aria-label",e.rightAriaLabel()),o(),s("ngIf",!e.rotateRightIconTemplate&&!e._rotateRightIconTemplate),o(),s("ngTemplateOutlet",e.rotateRightIconTemplate||e._rotateRightIconTemplate),o(),v("aria-label",e.leftAriaLabel()),o(),s("ngIf",!e.rotateLeftIconTemplate&&!e._rotateLeftIconTemplate),o(),s("ngTemplateOutlet",e.rotateLeftIconTemplate||e._rotateLeftIconTemplate),o(),s("ngClass",R(21,bt,e.isZoomOutDisabled))("disabled",e.isZoomOutDisabled),v("aria-label",e.zoomOutAriaLabel()),o(),s("ngIf",!e.zoomOutIconTemplate&&!e._zoomOutIconTemplate),o(),s("ngTemplateOutlet",e.zoomOutIconTemplate||e._zoomOutIconTemplate),o(),s("ngClass",R(23,_t,e.isZoomOutDisabled))("disabled",e.isZoomInDisabled),v("aria-label",e.zoomInAriaLabel()),o(),s("ngIf",!e.zoomInIconTemplate&&!e._zoomInIconTemplate),o(),s("ngTemplateOutlet",e.zoomInIconTemplate||e._zoomInIconTemplate),o(),v("aria-label",e.closeAriaLabel()),o(2),s("ngIf",!e.closeIconTemplate&&!e._closeIconTemplate),o(),s("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate),o(),s("ngIf",e.previewVisible)}}var Jt=({dt:t})=>`
.p-image-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-image-preview {
    position: relative;
    display: inline-flex;
    line-height: 0;
}

.p-image-preview-mask {
    position: absolute;
    inset-inline-start: 0;
    inset-block-start: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
    border: 0 none;
    padding: 0;
    cursor: pointer;
    background: transparent;
    color: ${t("image.preview.mask.color")};
    transition: background ${t("image.transition.duration")};
}

.p-image-preview:hover > .p-image-preview-mask {
    opacity: 1;
    cursor: pointer;
    background: ${t("image.preview.mask.background")};
}

.p-image-preview-icon {
    font-size: ${t("image.preview.icon.size")};
    width: ${t("image.preview.icon.size")};
    height: ${t("image.preview.icon.size")};
}

.p-image-toolbar {
    position: absolute;
    inset-block-start: ${t("image.toolbar.position.top")};
    inset-inline-end: ${t("image.toolbar.position.right")};
    inset-inline-start: ${t("image.toolbar.position.left")};
    inset-block-end: ${t("image.toolbar.position.bottom")};
    display: flex;
    z-index: 1;
    padding: ${t("image.toolbar.padding")};
    background: ${t("image.toolbar.background")};
    backdrop-filter: blur(${t("image.toolbar.blur")});
    border-color: ${t("image.toolbar.border.color")};
    border-style: solid;
    border-width: ${t("image.toolbar.border.width")};
    border-radius: ${t("image.toolbar.border.radius")};
    gap: ${t("image.toolbar.gap")};
}

.p-image-action {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    color: ${t("image.action.color")};
    background: transparent;
    width: ${t("image.action.size")};
    height: ${t("image.action.size")};
    margin: 0;
    padding: 0;
    border: 0 none;
    cursor: pointer;
    user-select: none;
    border-radius: ${t("image.action.border.radius")};
    outline-color: transparent;
    transition: background ${t("image.transition.duration")}, color ${t("image.transition.duration")}, outline-color ${t("image.transition.duration")}, box-shadow ${t("image.transition.duration")};
}

.p-image-action:hover {
    color: ${t("image.action.hover.color")};
    background: ${t("image.action.hover.background")};
}

.p-image-action:focus-visible {
    box-shadow: ${t("toolbar.action.focus.ring.shadow")};
    outline: ${t("toolbar.action.focus.ring.width")} ${t("toolbar.action.focus.ring.style")} ${t("toolbar.action.focus.ring.color")};
    outline-offset: ${t("toolbar.action.focus.ring.offset")};
}

.p-image-action .p-icon {
    font-size: ${t("image.action.icon.size")};
    width: ${t("image.action.icon.size")};
    height: ${t("image.action.icon.size")};
}

.p-image-action.p-disabled {
    pointer-events: auto;
}

.p-image-original {
    transition: transform 0.15s;
    max-width: 100vw;
    max-height: 100vh;
}

.p-image-original-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-image-original-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-image-original-enter-from,
.p-image-original-leave-to {
    opacity: 0;
    transform: scale(0.7);
}
`,$t={root:({props:t})=>["p-image p-component",{"p-image-preview":t.preview}],previewMask:"p-image-preview-mask",previewIcon:"p-image-preview-icon",mask:"p-image-mask p-overlay-mask p-overlay-mask-enter",toolbar:"p-image-toolbar",rotateRightButton:"p-image-action p-image-rotate-right-button",rotateLeftButton:"p-image-action p-image-rotate-left-button",zoomOutButton:({instance:t})=>["p-image-action p-image-zoom-out-button",{"p-disabled":t.isZoomOutDisabled}],zoomInButton:({instance:t})=>["p-image-action p-image-zoom-in-button",{"p-disabled":t.isZoomInDisabled}],closeButton:"p-image-action p-image-close-button",original:"p-image-original"},Xe=(()=>{class t extends ze{name="image";theme=Jt;classes=$t;static \u0275fac=(()=>{let e;return function(i){return(e||(e=T(t)))(i||t)}})();static \u0275prov=se({token:t,factory:t.\u0275fac})}return t})();var Wt=(()=>{class t extends Me{imageClass;imageStyle;styleClass;style;src;srcSet;sizes;previewImageSrc;previewImageSrcSet;previewImageSizes;alt;width;height;loading;appendTo;preview=!1;showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";onShow=new E;onHide=new E;onImageError=new E;mask;previewButton;closeButton;indicatorTemplate;rotateRightIconTemplate;rotateLeftIconTemplate;zoomOutIconTemplate;zoomInIconTemplate;closeIconTemplate;previewTemplate;imageTemplate;maskVisible=!1;previewVisible=!1;rotate=0;scale=1;previewClick=!1;container;wrapper;_componentStyle=D(Xe);get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}zoomSettings={default:1,step:.1,max:1.5,min:.5};constructor(){super()}templates;_indicatorTemplate;_rotateRightIconTemplate;_rotateLeftIconTemplate;_zoomOutIconTemplate;_zoomInIconTemplate;_closeIconTemplate;_imageTemplate;_previewTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"indicator":this._indicatorTemplate=e.template;break;case"rotaterighticon":this._rotateRightIconTemplate=e.template;break;case"rotatelefticon":this._rotateLeftIconTemplate=e.template;break;case"zoomouticon":this._zoomOutIconTemplate=e.template;break;case"zoominicon":this._zoomInIconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break;case"image":this._imageTemplate=e.template;break;case"preview":this._previewTemplate=e.template;break;default:this._indicatorTemplate=e.template;break}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0,Ce())}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(e){switch(e.code){case"Escape":this.onMaskClick(),setTimeout(()=>{W(this.previewButton.nativeElement)},25),e.preventDefault();break;default:break}}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{W(this.closeButton.nativeElement)},25);break;case"void":we(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":K.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({});break}}moveOnTop(){K.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):Ie(this.appendTo,this.wrapper))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}get zoomImageAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomImage:void 0}containerClass(){return{"p-image p-component":!0,"p-image-preview":this.preview}}handleToolbarClick(e){e.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default,ye()}imageError(e){this.onImageError.emit(e)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(e){this.previewVisible&&this.closePreview()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["p-image"]],contentQueries:function(n,i,c){if(n&1&&(x(c,rt,4),x(c,ot,4),x(c,st,4),x(c,lt,4),x(c,ct,4),x(c,mt,4),x(c,dt,4),x(c,pt,4),x(c,Se,4)),n&2){let m;_(m=w())&&(i.indicatorTemplate=m.first),_(m=w())&&(i.rotateRightIconTemplate=m.first),_(m=w())&&(i.rotateLeftIconTemplate=m.first),_(m=w())&&(i.zoomOutIconTemplate=m.first),_(m=w())&&(i.zoomInIconTemplate=m.first),_(m=w())&&(i.closeIconTemplate=m.first),_(m=w())&&(i.previewTemplate=m.first),_(m=w())&&(i.imageTemplate=m.first),_(m=w())&&(i.templates=m)}},viewQuery:function(n,i){if(n&1&&(z(gt,5),z(ut,5),z(ht,5)),n&2){let c;_(c=w())&&(i.mask=c.first),_(c=w())&&(i.previewButton=c.first),_(c=w())&&(i.closeButton=c.first)}},hostBindings:function(n,i){n&1&&h("keydown.escape",function(m){return i.onKeydownHandler(m)},!1,le)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",srcSet:"srcSet",sizes:"sizes",previewImageSrc:"previewImageSrc",previewImageSrcSet:"previewImageSrcSet",previewImageSizes:"previewImageSizes",alt:"alt",width:"width",height:"height",loading:"loading",appendTo:"appendTo",preview:[2,"preview","preview",ge],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},features:[ce([Xe]),k],decls:5,vars:11,consts:[["previewButton",""],["defaultTemplate",""],["mask",""],["closeButton",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-image-preview-mask",3,"ngStyle","click",4,"ngIf"],["class","p-image-mask p-overlay-mask p-overlay-mask-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],[3,"error","ngStyle"],["type","button",1,"p-image-preview-mask",3,"click","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-overlay-mask","p-overlay-mask-enter",3,"click","keydown"],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-image-rotate-right-button",3,"click"],["type","button",1,"p-image-action","p-image-rotate-left-button",3,"click"],["type","button",3,"click","ngClass","disabled"],["type","button",1,"p-image-action","p-image-close-button",3,"click"],[1,"p-image-original",3,"click","ngStyle"]],template:function(n,i){n&1&&(r(0,"span",4),f(1,It,2,10,"ng-container",5)(2,St,1,0,"ng-container",6)(3,At,5,7,"button",7)(4,Gt,20,25,"div",8),l()),n&2&&(y(i.styleClass),s("ngClass",i.containerClass())("ngStyle",i.style),o(),s("ngIf",!i.imageTemplate&&!i._imageTemplate),o(),s("ngTemplateOutlet",i.imageTemplate||i._imageTemplate)("ngTemplateOutletContext",R(9,ft,i.imageError.bind(i))),o(),s("ngIf",i.preview),o(),s("ngIf",i.maskVisible))},dependencies:[q,ue,L,ve,fe,Je,Ge,Ye,$e,We,Re,Qe,G],encapsulation:2,data:{animation:[Le("animation",[ie("void => visible",[te({transform:"scale(0.7)",opacity:0}),ee("{{showTransitionParams}}")]),ie("visible => void",[ee("{{hideTransitionParams}}",te({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})}return t})(),Ke=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=P({type:t});static \u0275inj=B({imports:[Wt,G,G]})}return t})();function Yt(t,a){if(t&1){let e=I();r(0,"webcam",35),h("imageCapture",function(i){g(e);let c=p();return u(c.handleImage(i))}),l()}if(t&2){let e=p();s("trigger",e.triggerObservable)("captureImageData",!0)("allowCameraSwitch",!0)("imageQuality",1)("width",1280)("height",1e3)}}function Xt(t,a){if(t&1){let e=I();r(0,"div",36),d(1,"img",37),r(2,"div",38),C(),r(3,"svg",39),d(4,"path",40),l()(),Q(),r(5,"div",17)(6,"div",18)(7,"button",41),h("click",function(){g(e);let i=p();return u(i.resetWebcamPhoto())}),S(8," Reset "),l()()()()}if(t&2){let e=p();o(),s("src",e.webcamImage==null?null:e.webcamImage.imageAsDataUrl,O)}}function Kt(t,a){t&1&&(r(0,"div",42)(1,"div",43),C(),r(2,"svg",44),d(3,"path",45),l()(),Q(),r(4,"p",46),S(5," Upload Additional Photos "),l(),r(6,"p",47),S(7," Tap to select from gallery "),l()())}function ei(t,a){if(t&1){let e=I();r(0,"div",52)(1,"button",53),h("click",function(i){let c=g(e).$implicit,m=p(2);return i.stopPropagation(),u(m.onImageClick(c))}),d(2,"img",54),l(),r(3,"button",55),h("click",function(i){let c=g(e).index,m=p(2);return i.stopPropagation(),u(m.deleteImagePreviewsFromArray(c))}),C(),r(4,"svg",56),d(5,"path",57),l()()()}if(t&2){let e=a.$implicit;o(2),s("src",e,O)}}function ti(t,a){if(t&1&&(r(0,"div",26)(1,"div",48),f(2,ei,6,1,"div",49),r(3,"div",50),C(),r(4,"svg",51),d(5,"path",45),l(),Q(),r(6,"span",47),S(7,"Add more"),l()()()()),t&2){let e=p();o(2),s("ngForOf",e.imagePreviews)}}function ii(t,a){t&1&&d(0,"span",58)}var et=class t{fcImageZoomerService=D(Pe);attendanceService=D(Ne);toastService=D(Te);router=D(_e);attendanceAddForm;isLoading=!1;today=new Date;trigger=new oe;capturedFiles=[];imagePreviews=[];constructor(){this.initializeUserAddForm()}triggerSnapshot(){this.trigger.next()}get triggerObservable(){return this.trigger.asObservable()}webcamImage=null;proveFile=null;handleImage(a){console.info("received webcam image",a),this.webcamImage=a,this.proveFile=this.dataURLtoFile(a.imageAsDataUrl,`attendance_prove_${Date.now()}.png`),console.log("Converted File:",this.proveFile)}dataURLtoFile(a,e){let n=a.split(","),i=n[0].match(/:(.*?);/)[1],c=atob(n[1]),m=c.length,V=new Uint8Array(m);for(;m--;)V[m]=c.charCodeAt(m);return new File([V],e,{type:i})}handleCapture(a){let e=a.target;e.files&&e.files.length>0&&(Array.from(e.files).forEach(n=>{this.capturedFiles.push(n);let i=new FileReader;i.onload=()=>{this.imagePreviews.push(i.result)},i.readAsDataURL(n)}),this.attendanceAddForm.controls.photos.setValue([...this.capturedFiles]),this.attendanceAddForm.controls.photos.markAsDirty())}initializeUserAddForm(){this.attendanceAddForm=new Ae({photos:new X([],Y.required),note:new X("-",Y.required)})}deleteImagePreviewsFromArray(a){this.imagePreviews.splice(a,1),this.capturedFiles.splice(a,1),this.attendanceAddForm.controls.photos.setValue([...this.capturedFiles]),this.attendanceAddForm.controls.photos.markAsDirty()}onImageClick(a){console.log(a),this.fcImageZoomerService.show(a)}resetWebcamPhoto(){this.webcamImage=null}close(){}submit(){if(this.proveFile===null)return;this.isLoading=!0;let a=new FormData;a.append("note",this.attendanceAddForm.value.note),a.append("attendance_prove",this.proveFile),this.attendanceAddForm.value.photos.forEach((e,n)=>{console.log(e),a.append("attendance_photos",e)}),this.attendanceService.addAttendance(a).subscribe({next:e=>{console.log(e),this.router.navigate(["dashboard"]),this.isLoading=!1,this.toastService.displayToast({summary:e.message},"success")},error:e=>{console.log("Error response:",e);let n=e?.message??"An error occurred";this.toastService.displayToast({summary:n},"fail")}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-attendance-add"]],decls:52,vars:19,consts:[["fileInput",""],[1,"min-h-screen","bg-gradient-to-br","from-slate-50","to-slate-100","dark:from-gray-900","dark:to-gray-800",3,"ngSubmit","formGroup"],[1,"sticky","top-0","z-20","border-b","border-slate-200/60","bg-white/80","backdrop-blur-md","dark:border-gray-700/60","dark:bg-gray-900/80"],[1,"mx-auto","max-w-5xl","px-4","py-3","sm:px-6"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900","sm:text-xl","dark:text-white"],[1,"text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"mx-auto","max-w-5xl","px-4","py-6","pb-32","sm:px-6"],[1,"grid","gap-6","lg:grid-cols-5"],[1,"lg:col-span-3"],[1,"rounded-2xl","border","border-slate-200/60","bg-white","shadow-sm","dark:border-gray-700/60","dark:bg-gray-800"],[1,"p-4","sm:p-6"],[1,"mb-4","flex","items-center","gap-3"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"mb-6","space-y-4"],[1,"relative","max-h-full","overflow-hidden","rounded-xl","bg-gray-100","md:max-h-[30rem]","dark:bg-gray-700"],["class","!scale-110",3,"trigger","captureImageData","allowCameraSwitch","imageQuality","width","height","imageCapture",4,"ngIf"],[1,"absolute","bottom-4","left-1/2","flex","-translate-x-1/2","items-center","gap-2"],[1,"pointer-events-none","inset-0"],["type","button",1,"pointer-events-auto","flex","items-center","justify-center","gap-2","rounded-full","bg-white/90","px-4","py-2","font-medium","text-gray-900","shadow-lg","transition-all","duration-200","hover:bg-white","hover:shadow-xl","active:scale-95",3,"click"],["class","relative",4,"ngIf"],["type","file","accept","image/*","capture","environment",1,"hidden",3,"change"],[1,"group","cursor-pointer","transition-all","duration-300",3,"click"],["class","rounded-xl border-2 border-dashed border-gray-300 p-8 text-center transition-all duration-300 hover:border-blue-400 hover:bg-blue-50/50 dark:border-gray-600 dark:hover:border-blue-500 dark:hover:bg-blue-900/20",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"lg:col-span-2"],[1,"space-y-4"],["formControlName","note",1,"w-full",3,"size","placeholder","id","title","type","required"],[1,"text-right"],[1,"text-xs","text-gray-400"],[1,"fixed","right-0","bottom-0","left-0","z-10","border-t","border-slate-200/60","bg-white/95","backdrop-blur-md","dark:border-gray-700/60","dark:bg-gray-900/95"],[1,"mx-auto","max-w-5xl","px-4","py-4","sm:px-6"],["type","submit",1,"group","relative","flex","w-full","transform","items-center","justify-center","gap-3","rounded-2xl","bg-gradient-to-r","from-blue-600","to-blue-700","px-8","py-4","font-semibold","text-white","shadow-lg","transition-all","duration-200","hover:scale-[1.02]","hover:from-blue-700","hover:to-blue-800","hover:shadow-xl","active:scale-[0.98]","disabled:scale-100","disabled:cursor-not-allowed","disabled:from-gray-400","disabled:to-gray-500","disabled:shadow-md","sm:w-auto","sm:min-w-[200px]",3,"keydown.enter","pTooltip","disabled"],["class","h-5 w-5 animate-spin rounded-full border-2 border-white/30 border-t-white",4,"ngIf"],[1,"absolute","inset-0","rounded-2xl","bg-white/10","opacity-0","transition-opacity","duration-200","group-hover:opacity-100"],[1,"!scale-110",3,"imageCapture","trigger","captureImageData","allowCameraSwitch","imageQuality","width","height"],[1,"relative"],[1,"mx-auto","w-full","rounded-xl","border-2","border-green-200","shadow-sm","dark:border-green-700",3,"src"],[1,"absolute","-top-2","-right-2","rounded-full","bg-green-500","p-1","text-white"],["fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["type","button",1,"pointer-events-auto","rounded-full","bg-white/90","px-4","py-2","font-medium","text-gray-900","shadow-lg","transition-all","duration-200","hover:bg-white","hover:shadow-xl","active:scale-95",3,"click"],[1,"rounded-xl","border-2","border-dashed","border-gray-300","p-8","text-center","transition-all","duration-300","hover:border-blue-400","hover:bg-blue-50/50","dark:border-gray-600","dark:hover:border-blue-500","dark:hover:bg-blue-900/20"],[1,"mx-auto","mb-4","flex","h-16","w-16","items-center","justify-center","rounded-2xl","bg-gray-100","transition-colors","group-hover:bg-blue-100","dark:bg-gray-700","dark:group-hover:bg-blue-900/30"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-8","w-8","text-gray-400","group-hover:text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"mb-1","text-sm","font-medium","text-gray-600","dark:text-gray-300"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"grid","grid-cols-2","gap-3","sm:grid-cols-3"],["class","group/item relative aspect-square overflow-hidden rounded-xl border border-gray-200 transition-all duration-200 hover:shadow-md dark:border-gray-600",4,"ngFor","ngForOf"],[1,"flex","aspect-square","flex-col","items-center","justify-center","rounded-xl","border-2","border-dashed","border-gray-300","transition-all","duration-300","hover:border-blue-400","hover:bg-blue-50/50","dark:border-gray-600","dark:hover:border-blue-500","dark:hover:bg-blue-900/20"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mb-1","h-6","w-6","text-gray-400"],[1,"group/item","relative","aspect-square","overflow-hidden","rounded-xl","border","border-gray-200","transition-all","duration-200","hover:shadow-md","dark:border-gray-600"],[1,"h-full","w-full",3,"click"],["alt","",1,"h-full","w-full","object-cover","transition-transform","duration-300","group-hover/item:scale-105",3,"src"],["type","button",1,"absolute","top-2","right-2","flex","h-7","w-7","items-center","justify-center","rounded-full","bg-red-500","text-white","opacity-0","shadow-lg","transition-all","duration-200","group-hover/item:opacity-100","hover:bg-red-600",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"h-3","w-3"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"h-5","w-5","animate-spin","rounded-full","border-2","border-white/30","border-t-white"]],template:function(e,n){if(e&1){let i=I();r(0,"form",1),h("ngSubmit",function(){return g(i),u(n.submit())}),r(1,"header",2)(2,"div",3)(3,"div",4)(4,"div")(5,"h1",5),S(6," Add Attendance "),l(),r(7,"p",6),S(8),me(9,"date"),l()()()()(),r(10,"main",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2",13),S(17," Photo Evidence "),l()(),r(18,"div",14)(19,"div",15),f(20,Yt,1,6,"webcam",16),r(21,"div",17)(22,"div",18)(23,"button",19),h("click",function(){return g(i),u(n.triggerSnapshot())}),r(24,"span"),S(25," \u{1F4F8} "),l(),r(26,"span"),S(27," Capture "),l()()()()(),f(28,Xt,9,1,"div",20),l(),r(29,"input",21,0),h("change",function(m){return g(i),u(n.handleCapture(m))}),l(),r(31,"div",22),h("click",function(m){return g(i),Z(30).click(),u(m.preventDefault())}),f(32,Kt,8,0,"div",23)(33,ti,8,1,"div",24),l()()()(),r(34,"div",25)(35,"div",10)(36,"div",11)(37,"div",12)(38,"h2",13),S(39," Notes "),l()(),r(40,"div",26),d(41,"fc-input-text",27),r(42,"div",28)(43,"span",29),S(44),l()()()()()()()(),r(45,"div",30)(46,"div",31)(47,"button",32),h("keydown.enter",function(){return g(i),u(n.submit())}),f(48,ii,1,0,"span",33),r(49,"span"),S(50,"Submit Attendance"),l(),d(51,"div",34),l()()()()}if(e&2){let i;s("formGroup",n.attendanceAddForm),o(8),$(" ",de(9,16,n.today,"EEEE, dd MMM yyyy")," "),o(12),s("ngIf",!(n.webcamImage!=null&&n.webcamImage.imageAsDataUrl)),o(8),s("ngIf",n.webcamImage==null?null:n.webcamImage.imageAsDataUrl),o(4),s("ngIf",n.imagePreviews.length===0),o(),s("ngIf",n.imagePreviews.length>0),o(8),s("size","small")("placeholder","Add optional notes...")("id","Note")("title","Note")("type","text")("required",!1),o(3),$(" ",((i=n.attendanceAddForm.get("note"))==null||i.value==null?null:i.value.length)||0,"/500 "),o(3),s("pTooltip",n.attendanceAddForm.invalid?"Complete required fields":"Submit attendance")("disabled",n.proveFile===null),o(),s("ngIf",n.isLoading)}},dependencies:[qe,je,Be,Ve,ke,xe,De,Ee,Fe,he,L,Oe,be,Ue,Ke,He],encapsulation:2})};export{et as a};
