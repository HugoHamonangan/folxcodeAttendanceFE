import{$a as S,Sa as O,va as x,za as $}from"./chunk-ZAHCPB2U.js";import{Bc as V,Eb as u,Fb as l,Gb as g,Kb as w,Mb as _,Nb as c,Sc as k,Vc as N,Xa as r,Xb as C,Zb as I,ab as v,ga as p,ha as m,hb as E,hc as y,ic as M,ma as b,mb as d,ta as T,tb as F,ua as a,ub as o,wa as h,zb as f}from"./chunk-24CHYTPN.js";var A=i=>({"outline outline-blue-500":i}),P=(i,n)=>({"py-2.5":i,"py-3.5":n}),z=i=>({"text-xs":i}),D=i=>({hidden:i});function L(i,n){i&1&&(u(0,"span",3),C(1,"*"),l())}function R(i,n){if(i&1&&(u(0,"div",9),C(1),l()),i&2){let t=c();r(),I(" ",t.errorMessage()," ")}}function B(i,n){if(i&1&&(u(0,"div",10),g(1,"fc-icon",11),l()),i&2){let t=c();r(),o("icon",t.iconName())("ngClass",y(2,z,t.size()==="small"))}}function Y(i,n){i&1&&g(0,"fc-icon",13),i&2&&o("icon","eyeOpen")}function G(i,n){i&1&&g(0,"fc-icon",14),i&2&&o("icon","eyeClose")}function H(i,n){if(i&1){let t=w();u(0,"div",8)(1,"button",12),_("click",function(){p(t);let s=c();return m(s.onPasswordVisible())})("keydown.enter",function(){p(t);let s=c();return m(s.onPasswordVisible())}),d(2,Y,1,1,"fc-icon",13)(3,G,1,1,"fc-icon",14),l(),u(4,"button",15),_("click",function(){p(t);let s=c();return m(s.onRemoveValue())})("keydown.enter",function(){p(t);let s=c();return m(s.onRemoveValue())}),g(5,"fc-icon",14),l()()}if(i&2){let t=c();r(),o("ngClass",y(3,D,t.type()!=="password")),r(),f(t.type()==="password"&&t.isPasswordVisible()===!0?2:t.type()==="password"&&t.isPasswordVisible()===!1?3:-1),r(3),o("icon","x")}}var q=class i{constructor(n,t){this.ngControl=n;this._injector=t;this.ngControl&&(this.ngControl.valueAccessor=this)}isIcon=a(!1);size=a("small");iconName=a("user");placeholder=a("");id=a("");title=a("");type=a("text");required=a(!1);valueFromIsEditModeTrue=a("");isFocusedOutput=T();value=h("");isPasswordVisible=h(!1);errorMessage=h(null);isFocused=h(!1);control;ngOnInit(){let n=this._injector.get(x,null);n&&n.control instanceof $&&(this.control=n.control,this.control.statusChanges?.subscribe(()=>{this.updateErrorMessage()}),this.control.valueChanges?.subscribe(()=>{this.updateErrorMessage()}),this.updateErrorMessage())}onChange=()=>{};onTouch=()=>{};updateErrorMessage(){if(!this.control){this.errorMessage.set(null);return}if(!(this.control.invalid&&(this.control.touched||this.control.dirty))){this.errorMessage.set(null);return}let t=this.title()||"This field";if(this.control.hasError("required")){this.errorMessage.set(`${t} is required`);return}if(this.control.hasError("minlength")){let e=this.control.getError("minlength")?.requiredLength;this.errorMessage.set(`${t} must be at least ${e} characters`);return}if(this.control.hasError("maxlength")){let e=this.control.getError("maxlength")?.requiredLength;this.errorMessage.set(`${t} must be no more than ${e} characters`);return}if(this.control.hasError("min")){let e=this.control.getError("min")?.min;this.errorMessage.set(`${t} must be greater than or equal to ${e}`);return}if(this.control.hasError("max")){let e=this.control.getError("max")?.max;this.errorMessage.set(`${t} must be less than or equal to ${e}`);return}if(this.control.hasError("pattern")){this.errorMessage.set(`${t} format is invalid`);return}if(this.control.hasError("email")){this.errorMessage.set(`${t} must be a valid email address`);return}if(this.control.hasError("match")){this.errorMessage.set(`${t} does not match`);return}if(this.control.hasError("maxlengthArray")){let e=this.control.getError("maxlengthArray")?.max;this.errorMessage.set(`You can select up to ${e} items`);return}if(this.control.hasError("minlengthArray")){let e=this.control.getError("minlengthArray")?.min;this.errorMessage.set(`You must select at least ${e} items`);return}if(this.control.hasError("invalidDate")){this.errorMessage.set(`${t} is not a valid date`);return}if(this.control.hasError("custom")){let e=this.control.getError("custom")?.message;this.errorMessage.set(e||`${t} is invalid`);return}this.errorMessage.set("Invalid input")}inputType=V(()=>this.type()==="password"?this.isPasswordVisible()?"text":"password":this.type());writeValue(n){this.value.set(n??"")}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouch=n}onRemoveValue(){this.onValueChange(null)}onValueChange(n){n!==void 0&&this.value()!==n&&(this.value.set(n),this.onChange(n),this.onTouch(n),console.log(n))}onInput(n){let t=n.target;this.onValueChange(t.value)}onPasswordVisible(){this.type()==="password"&&this.isPasswordVisible.update(n=>!n)}handleFocus(){this.isFocused.set(!0),this.isFocusedOutput.emit(!0)}handleBlur(){this.isFocused.set(!1),this.isFocusedOutput.emit(!1),this.onTouch()}static \u0275fac=function(t){return new(t||i)(v(x,10),v(b))};static \u0275cmp=E({type:i,selectors:[["fc-input-text"]],inputs:{isIcon:[1,"isIcon"],size:[1,"size"],iconName:[1,"iconName"],placeholder:[1,"placeholder"],id:[1,"id"],title:[1,"title"],type:[1,"type"],required:[1,"required"],valueFromIsEditModeTrue:[1,"valueFromIsEditModeTrue"]},outputs:{isFocusedOutput:"isFocusedOutput"},decls:10,vars:18,consts:[[1,"flex","w-full","flex-col","gap-1"],[1,"flex","items-center","justify-between","select-none"],[1,"text-primary","w-fit","text-sm","dark:text-gray-200",3,"for"],[1,"text-red-500"],["class","text-xs text-red-500",4,"ngIf"],[1,"bg-tertiary-50","relative","flex","w-full","items-center","gap-3","rounded-lg","pl-3.5","duration-100","dark:bg-gray-800",3,"ngClass"],["class","bg-tertiary-200 grid place-items-center rounded-md p-1.5 dark:bg-gray-600",4,"ngIf"],["tabindex","0",1,"placeholder-tertiary-400","w-full","items-center","pr-10","text-sm","duration-200","focus:border-transparent","focus:outline-none",3,"input","focus","blur","type","placeholder","id","value","ngClass"],[1,"absolute","top-1/2","right-3","flex","-translate-y-1/2","items-center","justify-center","gap-2"],[1,"text-xs","text-red-500"],[1,"bg-tertiary-200","grid","place-items-center","rounded-md","p-1.5","dark:bg-gray-600"],[3,"icon","ngClass"],["type","button",1,"hover:bg-tertiary-200","grid","size-5","cursor-pointer","place-items-center","rounded-full","bg-white","dark:bg-gray-800","dark:hover:bg-gray-700",3,"click","keydown.enter","ngClass"],[1,"text-sm","dark:text-gray-200",3,"icon"],[1,"text-sm",3,"icon"],["type","button",1,"hover:bg-tertiary-200","grid","size-5","cursor-pointer","place-items-center","rounded-full","dark:hover:bg-gray-700",3,"click","keydown.enter"]],template:function(t,e){t&1&&(u(0,"div",0)(1,"div",1)(2,"label",2),C(3),d(4,L,2,0,"span",3),l(),d(5,R,2,1,"div",4),l(),u(6,"div",5),d(7,B,2,4,"div",6),u(8,"input",7),_("input",function(j){return e.onInput(j)})("focus",function(){return e.handleFocus()})("blur",function(){return e.handleBlur()}),l(),d(9,H,6,5,"div",8),l()()),t&2&&(r(2),o("for",e.id()),r(),I("",e.title()," "),r(),f(e.required()===!0?4:-1),r(),o("ngIf",e.errorMessage()),r(),o("ngClass",y(13,A,e.isFocused())),r(),o("ngIf",e.isIcon()===!0),r(),o("type",e.inputType())("placeholder",e.placeholder())("id",e.id())("value",e.valueFromIsEditModeTrue()===""||e.valueFromIsEditModeTrue()===void 0||e.valueFromIsEditModeTrue()===null?e.value():e.valueFromIsEditModeTrue())("ngClass",M(15,P,e.size()==="small",e.size()==="normal")),F("min",e.inputType()==="number"?0:null),r(),f(e.value()?9:-1))},dependencies:[S,k,N,O],encapsulation:2})};export{q as a};
